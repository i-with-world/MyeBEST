###############################################################################
#                                                                             #
#                                                       22/Jul/2015  10:59:29 #
# IAR ANSI C/C++ Compiler V6.30.6.23336/W32 EVALUATION for ARM                #
# Copyright 1999-2012 IAR Systems AB.                                         #
#                                                                             #
#    Cpu mode     =  thumb                                                    #
#    Endian       =  little                                                   #
#    Source file  =  C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê®×ÖÍäÊ¶±ð\Peripheral_ #
#                    Oparation\MMA8451Q.c                                     #
#    Command line =  C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê®×ÖÍäÊ¶±ð\Peripheral_ #
#                    Oparation\MMA8451Q.c -D IAR -lCN                         #
#                    C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê®×ÖÍäÊ¶±ð\Flash_512K\ #
#                    List\ -lB C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê®×ÖÍäÊ¶±ð\F #
#                    lash_512K\List\ -o C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê®× #
#                    ÖÍäÊ¶±ð\Flash_512K\Obj\ --no_cse --no_unroll             #
#                    --no_inline --no_code_motion --no_tbaa --no_clustering   #
#                    --no_scheduling --debug --endian=little --cpu=Cortex-M4  #
#                    -e --char_is_signed --fpu=None --dlib_config             #
#                    "C:\Program Files\IAR Systems\Embedded Workbench 6.0     #
#                    Evaluation\arm\INC\c\DLib_Config_Normal.h" -I            #
#                    C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê®×ÖÍäÊ¶±ð\Library\CPU #
#                    \ -I C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê®×ÖÍäÊ¶±ð\Librar #
#                    y\Drivers\ADC\ -I C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê®×Ö #
#                    ÍäÊ¶±ð\Library\Drivers\FTM\ -I                           #
#                    C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê®×ÖÍäÊ¶±ð\Library\Dri #
#                    vers\GPIO\ -I C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê®×ÖÍäÊ¶ #
#                    ±ð\Library\Drivers\PIT\ -I C:\Users\dong\Desktop\7ÔÂ20ºÅ #
#                    ×îºó+Ê®×ÖÍäÊ¶±ð\Library\Drivers\I2C\ -I                  #
#                    C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê®×ÖÍäÊ¶±ð\Library\Dri #
#                    vers\UART\ -I C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê®×ÖÍäÊ¶ #
#                    ±ð\Library\Drivers\FTFL\ -I                              #
#                    C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê®×ÖÍäÊ¶±ð\MyFunction\ #
#                     -I C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê®×ÖÍäÊ¶±ð\SD_Syst #
#                    em\ -I C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê®×ÖÍäÊ¶±ð\Dela #
#                    y\ -I C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê®×ÖÍäÊ¶±ð\Syste #
#                    m_Init\ -I C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê®×ÖÍäÊ¶±ð\ #
#                    OLED\ -I C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê®×ÖÍäÊ¶±ð\ZL #
#                    G7290\ -I C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê®×ÖÍäÊ¶±ð\S #
#                    imple_AD\ -I C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê®×ÖÍäÊ¶± #
#                    ð\Make_Desicion\ -I C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê® #
#                    ×ÖÍäÊ¶±ð\Make_Desicion\Judge_Way\ -I                     #
#                    C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê®×ÖÍäÊ¶±ð\Make_Desici #
#                    on\Speed_Control\ -I C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê #
#                    ®×ÖÍäÊ¶±ð\Source\ -I C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê #
#                    ®×ÖÍäÊ¶±ð\Peripheral_Oparation\ -I                       #
#                    C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê®×ÖÍäÊ¶±ð\Balance_con #
#                    trol\ -Ol                                                #
#    List file    =  C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê®×ÖÍäÊ¶±ð\Flash_512K\ #
#                    List\MMA8451Q.lst                                        #
#    Object file  =  C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê®×ÖÍäÊ¶±ð\Flash_512K\ #
#                    Obj\MMA8451Q.o                                           #
#                                                                             #
#                                                                             #
###############################################################################

C:\Users\dong\Desktop\7ÔÂ20ºÅ×îºó+Ê®×ÖÍäÊ¶±ð\Peripheral_Oparation\MMA8451Q.c
      1          #include "AllHeaders.h"
      2          

   \                                 In section .bss, align 1
      3          int8s_t Acc_X,Acc_Y,Acc_Z;
   \                     Acc_X:
   \   00000000                      DS8 1

   \                                 In section .bss, align 1
   \                     Acc_Y:
   \   00000000                      DS8 1

   \                                 In section .bss, align 1
   \                     Acc_Z:
   \   00000000                      DS8 1
      4          
      5          //³õÊ¼»¯MMA8451QÎªÖ¸¶¨Ä£Ê½

   \                                 In section .text, align 2, keep-with-next
      6          void MMA8451Q_init()
      7          {	
   \                     MMA8451Q_init:
   \   00000000   0xB580             PUSH     {R7,LR}
      8            Single_Write(MMA845x_IIC_ADDRESS, CTRL_REG1, ASLP_RATE_20MS+DATA_RATE_5MS);
   \   00000002   0x2210             MOVS     R2,#+16
   \   00000004   0x212A             MOVS     R1,#+42
   \   00000006   0x201C             MOVS     R0,#+28
   \   00000008   0x.... 0x....      BL       Single_Write
      9            Delay_I2C();
   \   0000000C   0x.... 0x....      BL       Delay_I2C
     10            Single_Write(MMA845x_IIC_ADDRESS, XYZ_DATA_CFG_REG, FULL_SCALE_2G); //2G
   \   00000010   0x2200             MOVS     R2,#+0
   \   00000012   0x210E             MOVS     R1,#+14
   \   00000014   0x201C             MOVS     R0,#+28
   \   00000016   0x.... 0x....      BL       Single_Write
     11            Delay_I2C();
   \   0000001A   0x.... 0x....      BL       Delay_I2C
     12            Single_Write(MMA845x_IIC_ADDRESS, CTRL_REG1, ACTIVE_MASK);          //¼¤»î×´Ì¬
   \   0000001E   0x2201             MOVS     R2,#+1
   \   00000020   0x212A             MOVS     R1,#+42
   \   00000022   0x201C             MOVS     R0,#+28
   \   00000024   0x.... 0x....      BL       Single_Write
     13            Delay_I2C();
   \   00000028   0x.... 0x....      BL       Delay_I2C
     14          }
   \   0000002C   0xBD01             POP      {R0,PC}          ;; return
     15          
     16          //¶Á¼ÓËÙ¶È¼ÆXYZÖáÊý¾Ý

   \                                 In section .text, align 2, keep-with-next
     17          void Read_MMA8451Q(void)
     18          {
   \                     Read_MMA8451Q:
   \   00000000   0xB580             PUSH     {R7,LR}
     19            int8u_t Acc_temp;
     20            
     21            Acc_temp = Single_Read(MMA845x_IIC_ADDRESS,OUT_Y_MSB_REG);
   \   00000002   0x2103             MOVS     R1,#+3
   \   00000004   0x201C             MOVS     R0,#+28
   \   00000006   0x.... 0x....      BL       Single_Read
     22            Acc_X = Acc_temp;
   \   0000000A   0x....             LDR.N    R1,??DataTable0
   \   0000000C   0x7008             STRB     R0,[R1, #+0]
     23            
     24             //ÆÁ±ÎÒÔÏÂ¼¸ÐÐÒÔ½ÚÊ¡Ê±¼ä£¬ÓÃÄÄ¸ö¿ªÄÄ¸ö
     25            /*Acc_temp = Single_Read(MMA845x_IIC_ADDRESS,OUT_Y_MSB_REG);
     26            Acc_Y = Acc_temp;
     27            
     28            Acc_temp = Single_Read(MMA845x_IIC_ADDRESS,OUT_Z_MSB_REG);
     29            Acc_Z = Acc_temp;
     30            */
     31          }
   \   0000000E   0xBD01             POP      {R0,PC}          ;; return

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0:
   \   00000000   0x........         DC32     Acc_X

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
        8  MMA8451Q_init
             8 -> Delay_I2C
             8 -> Single_Write
        8  Read_MMA8451Q
             8 -> Single_Read


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable0
       1  Acc_X
       1  Acc_Y
       1  Acc_Z
      46  MMA8451Q_init
      16  Read_MMA8451Q

 
  3 bytes in section .bss
 66 bytes in section .text
 
 66 bytes of CODE memory
  3 bytes of DATA memory

Errors: none
Warnings: none
